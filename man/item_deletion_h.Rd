% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/item_deletion_h.R
\name{item_deletion_h}
\alias{item_deletion_h}
\title{Effect size of item deletion on selection accuracy}
\usage{
item_deletion_h(
  propsel,
  cut_z = NULL,
  weights_item,
  n_dim = 1,
  n_i_per_dim = NULL,
  weights_latent,
  alpha_r,
  alpha_f = alpha_r,
  psi_r,
  psi_f = psi_r,
  lambda_r_p,
  lambda_f_p = lambda_r_p,
  nu_r_p,
  nu_f_p = nu_r_p,
  theta_r_p,
  theta_f_p = theta_r_p,
  pmix_ref = 0.5,
  plot_contour = TRUE,
  return_detailed = FALSE,
  ...
)
}
\arguments{
\item{propsel}{Proportion of selection. If missing, computed using \code{cut_z}.}

\item{cut_z}{Pre-specified cutoff score on the observed composite. This
argument is ignored when \code{propsel} has input.}

\item{weights_item}{A vector of item weights.}

\item{n_dim}{Number of dimensions, 1 by default. If the user does not supply
a different value, proceeds with the assumption that the scale is
unidimensional.}

\item{n_i_per_dim}{A vector containing the number of items in each
dimension; \code{NULL} by default. If the user provides a value for \code{n_dim}
that is \eqn{> 1} but leaves \code{n_i_per_dim = NULL}, assumes that
the subscales have an equal number of items.}

\item{weights_latent}{A  vector of latent factor weights.}

\item{alpha_r}{A vector of latent factor mean for the reference group.}

\item{alpha_f}{(optional) A vector of latent factor mean for the focal
group; if no input, set equal to \code{alpha_r}.}

\item{psi_r}{a matrix of latent factor variance for the reference group.}

\item{psi_f}{(optional) A matrix of latent factor variance for the focal
group; if no input, set equal to \code{psi_r}.}

\item{lambda_r_p}{A matrix of factor loadings for the reference group under
the partial invariance condition.}

\item{lambda_f_p}{(optional) A matrix of factor loadings for the focal group
under the partial invariance condition; if no input, set equal to
\code{lambda_r_p}.}

\item{nu_r_p}{A matrix of measurement intercepts for the reference group
under the partial invariance condition.}

\item{nu_f_p}{(optional) A matrix of measurement intercepts for the focal
group under the partial invariance condition; if no input, set equal
to \code{nu_r_p}.}

\item{theta_r_p}{A matrix of the unique factor variances and covariances
for the reference group under the partial invariance condition.}

\item{theta_f_p}{(optional) A matrix of the unique factor variances and
covariances for the focal group under the partial invariance
condition; if no input, set equal to \code{theta_r_p}.}

\item{pmix_ref}{Proportion of the reference group; default to 0.5 (i.e., two
populations have equal size)}

\item{plot_contour}{Logical; whether the contour of the two populations
should be plotted; default to \code{TRUE}.}

\item{return_detailed}{Logical; whether additional data frames should be r
returned object; default to \code{FALSE}. If
\code{return_detailed == FALSE}, returns a list of length 2 with the
elements: \code{h_overall_sai.par} (a data frame) and\code{delta_h} (a list).
If set to \code{TRUE}, returns \code{h} and \code{raw} as an additional elements.}
}
\value{
A list with 3 elements if \code{return_detailed == FALSE}, 4 elements
if \code{return_detailed == TRUE}.
\item{h_overall_sai.par}{A (3 x number of items) data frame that
stores Cohen's h values for the comparison between overall SR, SE,
SP under partial invariance for the full item set vs. overall SR,
SE, SP under partial invariance when item i is deleted. 'Overall'
refers to the weighting of the accuracy indices for focal and
reference group proportions.}
\item{delta_h}{A list of length 2 with elements \code{h_R_vs_Ef.par} and
\code{h_str_vs_par}, which stores \code{ref} and \code{foc}. }
\item{delta_h$h_R_vs_Ef.par}{A (8 x number of items) data frame that
stores the Cohen's h effect size for the change in \code{h$R_vs_Ef_par}
when the full item set is included vs. \code{h$R_vs_Ef_par} when item i
is deleted.}
\item{delta_h$h_str_vs_par$ref}{A (8 x number of items) data frame that
stores the Cohen's h effect size for the change in \code{h$str_vs_par$ref}
when the full item set is included vs. \code{h$str_vs_par$ref} when item i
is deleted, i.e., the impact of deleting an item on the h values
comparing performance under strict invariance vs. under partial
invariance, for the reference group.}
\item{delta_h$h_str_vs_par$foc}{A (8 x number of items) data frame that
stores the Cohen's h effect size for the change in \code{h$str_vs_par$foc}
when the full item set is included vs. \code{raw$h_str_vs_par_list$foc}
when item i is deleted.}
\item{h}{A list of length 2 storing \code{R_vs_ef.par} and \code{str_vs_par},
which stores \code{ref} and \code{foc}.}
\item{h$R_vs_Ef.par}{A (8 x (number of items + 1)) data frame that
stores Cohen's h values for the comparison between accuracy indices
for the reference group vs. the expected accuracy indices for the
focal group if it followed the same distribution as the reference
group, under partial invariance, for a given set of items.}
\item{h$str_vs_par$ref}{A (8 x (number of items + 1)) data frame that
stores Cohen's h values for the comparison between accuracy indices
for the reference group under strict vs. partial invariance, for a
given set of items.}
\item{h$str_vs_par$foc}{A (8 x (number of items + 1)) data frame that
stores Cohen's h values for the comparison between accuracy indices
for the focal group under strict vs. partial invariance, for a
given set of items.}
\item{raw}{A list of length 3 containing \code{overall_sai.par},
\code{h_str_vs_par_list}, and \code{PartInv}.}
\item{raw$overall_sai.par}{A (3 x number of items + 1) data frame
containing overall SR, SE, SP values under partial invariance.
'Overall' refers to the weighting of the accuracy indices for focal
and reference group proportions.}
\item{raw$h_str_vs_par_list$ref}{A list of length (number of items + 1).
Each item in the list is a (8 x 3) data frame with rows for accuracy
indices and columns \code{strict_invariance}, \code{partial_invariance}, and
\code{h}. Here, h is the Cohen's h effect size for the comparison between
the accuracy indices under strict vs. partial invariance for a given
set of items for the reference group.}
\item{raw$h_str_vs_par_list$focal}{A list of length (number of items + 1).
Each item in the list is a (8 x 3) data frame with rows for accuracy
indices and columns \code{strict_invariance}, \code{partial_invariance}, and
\code{h}. Here, h is the Cohen's h effect size for the comparison between
the accuracy indices under strict vs. partial invariance for a given
set of items for the focal group.}
\item{raw$PartInv}{A list containing \code{strict} and \code{partial}, the
function outputs for each call to \code{\link[=PartInv]{PartInv()}} under strict
invariance and partial invariance respectively.}
}
\description{
\code{item_deletion_h} computes Cohen's h effect size for the impact of
deleting an item on selection accuracy indices (TP, FP, TN, FN, PS, SR, SE,
SP) under a number of combinations of conditions such as partial vs. strict
invariance, for the reference group vs. the focal group if it followed the
same distribution as the reference group under partial invariance, and for
the weighted average of reference and focal groups under partial invariance.
}
\examples{
# Multidimensional example 
lambda_matrix <- matrix(0, nrow = 5, ncol = 2)
lambda_matrix[1:2, 1] <- c(.322, .655)
lambda_matrix[3:5, 2] <- c(.398, .745, .543)
multi_dim <- item_deletion_h(propsel = .05, n_dim = 5,
                             weights_item = c(1/4, 1/4, 1/6, 1/6, 1/6),
                             weights_latent = c(0.5, 0.5),
                             alpha_r = c(0, 0),
                             alpha_f = c(-0.3, 0.1),
                             psi_r = matrix(c(1, 0.5, 0.5, 1), nrow = 2),
                             lambda_r_p = lambda_matrix,
                             nu_r_p = c(.225, .025, .010, .240, .125),
                             nu_f_p = c(.225, -.05, .240, -.025, .125),
                             theta_r_p = diag(1, 5),
                             theta_f_p = c(1, .95, .80, .75, 1),
                             plot_contour = TRUE,
                             return_detailed = TRUE)
multi_dim$h_overall_par
multi_dim$delta_h$R_vs_Ef.par
multi_dim$delta_h$str_vs_par$ref
multi_dim$h$str_vs_par$ref$`h(SFI, PFI; I)`
multi_dim$h$str_vs_par$ref$`h(SFI, PFI; I-i1)`
multi_dim$raw$PartInv$strict$`I`
multi_dim$raw$PartInv$strict$`I-i2`

# Single dimension examples
single_dim <- item_deletion_h(propsel = .10,
                               weights_item = c(1, 0.9, 0.8, 1),
                               weights_latent = 0.9,
                               alpha_r = 0.5,
                               alpha_f = 0,
                               psi_r = 1,
                               lambda_r_p = c(.3, .5, .9, .7),
                               nu_r_p = c(.225, .025, .010, .240),
                               nu_f_p = c(.225, -.05, .240, -.025),
                               theta_r_p = diag(.96, 4),
                               n_dim = 1, plot_contour = TRUE,
                               return_detailed = TRUE)
                         
single_dim$h_overall_sai.par
single_dim$delta_h$R_vs_Ef.par
single_dim$delta_h$str_vs_par$ref
single_dim$h$str_vs_par$ref$`h(SFI, PFI; I)`
single_dim$h$str_vs_par$ref$`h(SFI, PFI; I-i1)`
single_dim$raw$PartInv$strict$`I`
single_dim$raw$PartInv$strict$`I-i2`
}
